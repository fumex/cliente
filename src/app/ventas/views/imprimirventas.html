<div class="row page-titles">
    <div class="col-md-12 " style="text-align: right">
        <button (click)="imprimir()" class="btn btn-info"> <i class="fa fa-print"></i> </button>
        <button (click)="pdf()" class="btn btn-info"> <i class="fa fa-file-pdf-o"></i> </button>
    </div>
</div>
<div class="container-fluid" >
    <div class="card card-outline-primary" >
        <div class="card-body">
            <div class="form-horizonta" >
                <div class="col-lg-12 row" id="imprimir">
                    <div class="col-lg-12">
                        <div class="row p-t-20">
                            <table style="width: 100%;text-align: center;border:solid 1px">
                                <tbody>
                                    <tr>
                                        <td style="width: 50%;">
                                            <table style="width: 100%;">
                                                <tbody>
                                                    <tr >
                                                        <td style="text-align: center">
                                                            <img id="mostrada" style="width: 180px;
                                                            height: 90px;" [src]="imageUrl"/>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                                <tbody>
                                                    <tr>
                                                        <td>
                                                            <div class="row">
                                                                <div class="col-sm-12" style="text-align: center;font-size: 10px">{{empresa.nombre}}</div>
                                                                <div class="col-sm-12" style="text-align: center;font-size: 10px">{{empresa.direccion}}</div>
                                                                <div class="col-sm-12" style="text-align: center;font-size: 10px">{{empresa.departamento}}-{{empresa.provincia}}-{{empresa.distrito}}</div>
                                                            </div>
                                                        </td>
                                                    </tr>
                                                </tbody>      
                                            </table> 
                                        </td>
                                        <td style="width: 50%">
                                            <table style="width: 100%; border:solid 2px #7798f5">
                                                <tbody>
                                                    <tr>
                                                        <td style="width: 25%"></td>
                                                        <td *ngIf="boleta!=true"  style="text-align: center;font-size: 25px;width: 50%" >{{tipoventa}} ELECTRONICA</td>
                                                        <td style="width: 25%"></td>
                                                    </tr>
                                                    <tr>
                                                        <td style="text-align: center;font-size: 17px" colspan="3">RUC : {{empresa.ruc}}</td>
                                                    </tr>
                                                    <tr>
                                                        <td style="text-align: center;font-size: 16px;color: rgb(82, 136, 253)" colspan="3">{{ventas.serie_venta}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="col-sm-12" style="border:solid 1px gray;margin-top:10px">
                                <table style="width: 100%;text-align: center;margin-bottom: 10px;margin-top:10px">
                                    <tbody>
                                        <tr style="font-size: 15px">
                                            <td style="text-align: left;width: 20%" colspan="3"><strong>Direccion  :</strong></td>
                                            <td style="text-align: center   ;width: 80%;border-bottom: solid 1px;" colspan="9">{{ventas.direccion}}</td>
                                        </tr>
                                        <tr style="font-size: 15px">
                                            <td style="text-align: left;width: 20%" colspan="3"><strong>Señor(es):</strong></td>
                                            <td style="text-align: center;width: 30%;border-bottom: solid 1px" colspan="3"> {{ventas.nombre_cliente}}</td>
                                            <td style="text-align: left;width: 20%" colspan="3"><strong>N° de {{ventas.tipo_documento_cliente}}:</strong></td>
                                            <td style="text-align: center;width: 30%;border-bottom: solid 1px" colspan="3"> {{ventas.nro_documento}}</td>
                                        </tr>
                                        
                                        <tr style="font-size: 15px">
                                            <td style="text-align: left;width: 20%" colspan="3"><strong>Moneda:</strong></td>
                                            <td style="text-align: center;width: 30%;border-bottom: solid 1px" colspan="3"> {{ventas.moneda}}</td>
                                            <td style="text-align: left;width: 20%" colspan="3"><strong>Email:</strong></td>
                                            <td style="text-align: center;width: 30%;border-bottom: solid 1px" colspan="3">{{ventas.email}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="col-sm-12" style="margin-top: 20px">
                                <table  width="100%" border="1" cellpadding="0" cellspacing="1" bordercolor="#000000" 
                                style="width: 100%;text-align: center;border-collapse:collapse;border-color:#ddd;">
                                    <thead style="border-bottom: solid 1px #b1b5b8;font-size: 10px">
                                        <tr >
                                            <th >N°</th>
                                            <th style="width: 500px;">DESCRIPCION</th>
                                            <th >CANTIDAD</th>
                                            <th >DESCUENTO</th>
                                            <th >PRECIO UNITARIO</th>
                                            <th style="text-align: center">VALOR VENTA</th>
                                        </tr>
                                    </thead>
                                    <tbody *ngFor="let dproductos of detalleventas; let $index=index">  
                                        <tr >
                                            <td style="text-align: center;vertical-align: top">{{$index+1}}</td>
                                            <td style="text-align: center">
                                                <div class="row"  >
                                                    <div class="col-sm-12">
                                                        <strong>{{dproductos.descripcion}}</strong>
                                                    </div>
                                                </div>
                                                <div class="row"  >
                                                    <div  *ngIf="dproductos.estado==true " class="col-sm-12" style="text-align: left; font-size: 10px;">
                                                        S/N
                                                    </div>
                                                    <ng-container *ngFor="let codigos of codigo_productos; let $index=index">
                                                        <div class="col-sm-4"  *ngIf="codigos.id_detalle_pago==dproductos .id_producto && codigos.serie!=null">
                                                            <div >
                                                                {{codigos.serie}}
                                                            </div>
                                                        </div>
                                                    </ng-container>
                                                </div>
                                            </td>
                                            <td style="text-align: center;vertical-align: top" >{{dproductos.cantidad}}</td>
                                            <td style="text-align: center;vertical-align: top">{{dproductos.descuento}}%</td>
                                            <td style="text-align: center;vertical-align: top">{{dproductos.precio_unitario}}</td>
                                            <td style="text-align: center;vertical-align: top" >{{(dproductos.precio_unitario*dproductos.cantidad)*(100-dproductos.descuento)/100}}</td>
                                        </tr>
                                    </tbody>
                                    <tbody >  
                                        <tr >
                                            <td style="color: transparent">x</td>
                                            <td style="text-align: center"></td>
                                            <td style="text-align: center" ></td>
                                            <td style="text-align: center"></td>
                                            <td style="text-align: center"></td>
                                            <td style="text-align: center"></td>
                                        </tr>
                                        <tr >
                                            <td style="color: transparent;">x</td>
                                            <td ></td>
                                            <td ></td>
                                            <td ></td>
                                            <td ></td>
                                            <td style="text-align: center"></td>
                                        </tr>
                                        <tr >
                                            <td style="color: transparent;">x</td>
                                            <td ></td>
                                            <td ></td>
                                            <td ></td>
                                            <td ></td>
                                            <td style="text-align: center"></td>
                                        </tr>
                                    </tbody>
                                    <tbody>  
                                        <tr>
                                            <td style="color: #060606;background: #c9c3c3;" colspan="2">{{ventas.letrado}}</td>
                                            <td *ngIf="tipoventa!='FACTURA'" colspan="3" style="color:#99abb4">Subtotal</td>
                                            <td *ngIf="tipoventa=='FACTURA'" colspan="3" style="color:#99abb4">Total</td>
                                            <td *ngIf="tipoventa!='FACTURA'" style="text-align: center;color:#99abb4">{{ventas.total | number : '1.2-2'}}</td>
                                            <td *ngIf="tipoventa=='FACTURA'" style="text-align: center;color:#99abb4">{{ventas.subtotal | number : '1.2-2'}}</td>
                                        </tr>
                                        <tr *ngFor="let imp of impuestos;let $index=index;" style="border-color: transparent" >
                                            <td colspan="2"></td>
                                            <td colspan="3" style="text-align: left">{{imp.nombre }}({{imp.porcentaje}}%)</td>
                                            <td style="text-align: center;">{{imp.cantidad | number : '1.2-2'}}</td>
                                        </tr>
                                        <tr *ngIf="impuestos.length>0" style="border-color: transparent">
                                            <td colspan="2">
                                            </td>
                                            <td colspan="3" style="background:#88c8ff;border-top: solid black;color: black;text-align: left" >Total</td>
                                            <td style="text-align: center;background: #88c8ff;border-top: solid black;color: black">{{ventas.total | number : '1.2-2'}}</td>
                                        </tr>
                                    </tbody>    
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>